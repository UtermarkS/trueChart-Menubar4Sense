require.config({packages:[{name:"hico-codemirror",location:"../extensions/tcmenu/lib/external/codemirror",main:"lib/codemirror"}]}),define(["qvangular","angular","../prefix","../../external/codemirror/lib/codemirror","../../external/codemirror/mode/javascript/javascript","../../external/codemirror/mode/css/css","../../external/codemirror/addon/display/autorefresh","../../external/codemirror/addon/display/placeholder"],function(e,r,n,o){function i(e){function n(n,o,f,d){var s=r.extend({value:o.text()},n.$eval(f[t])),l=i(o,s);a(l,f[t],n),c(l,d,n),u(l,f.uiRefresh,n),n.$on("CodeMirror",function(e,n){if(!r.isFunction(n))throw new Error("the CodeMirror event requires a callback function");n(l)}),r.isFunction(s.onLoad)&&s.onLoad(l),e(function(){return l.refresh()})}function i(e,r){var n;return"TEXTAREA"===e[0].tagName?n=o.fromTextArea(e[0],r):(e.html(""),n=new o(function(r){e.append(r)},r)),n.setSize(r.width,r.height),n}function a(e,n,i){function t(n,o){r.isObject(n)&&a.forEach(function(r){if(n.hasOwnProperty(r)){if(o&&n[r]===o[r])return;e.setOption(r,n[r])}})}if(n){var a=Object.keys(o.defaults);i.$watch(n,t,!0)}}function c(e,n,o){n&&(n.$formatters.push(function(e){if(r.isUndefined(e)||null===e)return"";if(r.isObject(e)||r.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),n.$render=function(){var r=n.$viewValue||"";e.setValue(r)},e.on("change",function(e){var r=e.getValue();r!==n.$viewValue&&o.$evalAsync(function(){n.$setViewValue(r)})}))}function u(r,n,o){n&&o.$watch(n,function(n,o){n!==o&&e(function(){r.refresh()})})}return{restrict:"A",require:"?ngModel",compile:function(){return n}}}var t=n+"Codemirror";e.directive(t,i),i.$inject=["$timeout"]});