define(["qvangular","qlik","ng!$q","underscore","../prefix","../translations/translation","../directives/modal-dialog","./qlik-service","./config-service"],function(e,t,n,a,r,i,o){function l(r,l){function d(){return{none:{type:"None",name:"none",label:i.getTranslation("NO_ACTION"),description:i.getTranslation("NO_ACTION_WILL_BE_PERFORMED"),parameters:["none"],execute:function(){}},custom:{type:"Custom",name:"custom",label:i.getTranslation("CUSTOM"),description:i.getTranslation("CUSTOM_ACTION"),parameters:["custom"],execute:function(e,t,n,a,r,i,o){try{return new Function("$","qlik","$scope","$element","contextType","evt",o[0])(e,t,n,a,r,i)}catch(e){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",o[0],"| Error:",e)}}},nextSheet:{type:"Navigation",name:"nextSheet",label:i.getTranslation("NEXT_SHEET/PAGE"),description:i.getTranslation("NAVIGATE_TO_NEXT_SHEET_OR_PAGE_IN_MASHUP"),parameters:["none"],execute:function(){t.navigation.nextSheet(),E("nextPage",null)}},prevSheet:{type:"Navigation",name:"prevSheet",label:i.getTranslation("PREVIOUS_SHEET/PAGE"),description:i.getTranslation("NAVIGATE_TO_PREVIOUS_SHEET_OR_PAGE_IN_MASHUP"),parameters:["none"],execute:function(){t.navigation.prevSheet(),E("previousPage",null)}},gotoSheet:{type:"Navigation",name:"gotoSheet",label:i.getTranslation("GO_TO_SHEET"),description:i.getTranslation("NAVIGATE_TO_A_SPECIFIC_SHEET"),parameters:["sheetId"],execute:function(e){e[0]&&t.navigation.gotoSheet(e[0])}},gotoStory:{type:"Navigation",name:"gotoStory",label:i.getTranslation("GO_TO_STORY"),description:i.getTranslation("NAVIGATE_TO_A_SPECIFIC_STORY"),parameters:["storyId"],execute:function(e){e[0]&&t.navigation.gotoStory(e[0])}},gotoURL:{type:"Navigation",name:"gotoURL",label:i.getTranslation("GO_TO_URL"),description:i.getTranslation("NAVIGATE_TO_A_SPECIFIC_WEBSITE"),parameters:["url","urlTarget","mashupOnly"],execute:function(e){!e[0]||e[2]&&t.navigation.inClient||window.open(e[0],e[1])}},setVariable:{type:"Sense",name:"setVariable",label:i.getTranslation("SET_VARIABLE"),description:i.getTranslation("SET_A_VARIABLE_TO_A_SPECIFIC_VALUE"),parameters:["senseVariable","variableContent","keep"],execute:function(e){var n=e[0],a=e[1],i=e[2];return r.getVariableValue(n).then(function(e){if(!(!n||i&&e))return t.currApp().variable.setStringValue(n,a)})}},selectValues:{type:"Sense",name:"selectValues",label:i.getTranslation("SELECT_VALUE(S)"),description:i.getTranslation("SELECTS_SPECIFIC_VALUES_IN_A_FIELD"),parameters:["fieldName","fieldValues","toggle","softLock","initial","additional"],execute:function(e){function a(){r.rowCount>r.rows.length?R(r,a):o.resolve(r)}var r,i,o,l=b(e[0]),s=!!e[2],c=!!e[3],u=_(l.fieldName),E=e[1].split(";").map(function(e){return e.trim()});if(u.length>0){if(e[4])return;if(e[5]){if(E=e[1].filter(function(e){return-1===u.indexOf(e)}),0===E.length)return;s=!0}}return r=t.currApp().field(l.fieldName),i=t.currApp().model.engineApp,o=n.defer(),l.isNumeric?R(r,a):o.resolve(r),o.promise.then(function(e){return n.all(E.map(function(t){return l.isNumeric&&!l.isTimestamp&&!l.isDate||0===t.indexOf("'")?l.isNumeric?(e.rows.some(function(e){if(e.qText===t)return t=e.qNum,!0}),t):t:(t="'"+t+"'",i.evaluateEx(t))})).then(function(t){return t=t.map(function(e){return e.qValue||e}),e.selectValues(t,s,c)})})}},selectMatch:{type:"Sense",name:"selectMatch",label:i.getTranslation("SELECT_MATCH"),description:i.getTranslation("SELECTS_MATCHING_FIELD_VALUES"),parameters:["fieldName","fieldValue","softLock","initial"],execute:function(e){var n=b(e[0]);if(!(_(n.fieldName).length>0&&e[3]))return t.currApp().field(n.fieldName).selectMatch(e[1],e[2])}},selectAlternative:{type:"Sense",name:"selectAlternative",label:i.getTranslation("SELECT_ALTERNATIVE"),description:i.getTranslation("SELECTS_ALTERNATIVE_VALUES_IN_A_FIELD"),parameters:["fieldName","softLock"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).selectAlternative(e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},selectExcluded:{type:"Sense",name:"selectExcluded",label:i.getTranslation("SELECT_EXCLUDED"),description:i.getTranslation("SELECTS_EXCLUDED_VALUES_IN_A_FIELD"),parameters:["fieldName","softLock"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).selectExcluded(e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},selectPossible:{type:"Sense",name:"selectPossible",label:i.getTranslation("SELECT_POSSIBLE"),description:i.getTranslation("SELECTS_MATCHING_FIELD_VALUES"),parameters:["fieldName","softLock"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).selectPossible(e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},selectAll:{type:"Sense",name:"selectAll",label:i.getTranslation("SELECT_ALL"),description:i.getTranslation("SELECTS_ALL_VALUES_IN_A_FIELD"),parameters:["fieldName","softLock"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).selectAll(e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},clearField:{type:"Sense",name:"clearField",label:i.getTranslation("CLEAR_FIELD"),description:i.getTranslation("CLEARS_A_FIELD_SELECTION"),parameters:["fieldName"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).clear()}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},clearOther:{type:"Sense",name:"clearOther",label:i.getTranslation("CLEAR_OTHER"),description:i.getTranslation("CLEARS_ALL_FIELDS_EXCEPT_THE_SELECTED_ONE"),parameters:["fieldName","softLock"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).clearOther(e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},clearAll:{type:"Sense",name:"clearAll",label:i.getTranslation("CLEAR_ALL"),description:i.getTranslation("CLEARS_ALL_SELECTIONS_IN_ALL_FIELDS_OF_THE_CURRENT_QLIK_SENSE_APP"),parameters:["lockedAlso"],execute:function(e){try{return t.currApp().clearAll(e[0],e[1])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},lockField:{type:"Sense",name:"lockField",label:i.getTranslation("LOCK_FIELD"),description:i.getTranslation("LOCKS_A_FIELD_SELECTION"),parameters:["fieldName"],execute:function(e){try{return t.currApp().field(b(e[0]).fieldName).lock()}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},lockAll:{type:"Sense",name:"lockAll",label:i.getTranslation("LOCK_ALL"),description:i.getTranslation("LOCKS_ALL_SELECTIONS"),parameters:["lockedAlso"],execute:function(e){try{return t.currApp().lockAll(e[0])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},unlockAll:{type:"Sense",name:"unlockAll",label:i.getTranslation("UNLOCK_ALL"),description:i.getTranslation("UNLOCKS_ALL_SELECTIONS_THAT_HAS_PREVIOUSLY_BEEN_LOCKED"),parameters:["none"],execute:function(e){try{return t.currApp().unlockAll(e[0])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},applyBookmark:{type:"Sense",name:"applyBookmark",label:i.getTranslation("APPLY_BOOKMARK_SELECTION"),description:i.getTranslation("APPLIES_A_BOOKMARK_SELECTION"),parameters:["bookmarkId"],execute:function(e){try{return t.currApp().bookmark.apply(e[0])}catch(t){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",e,"| Error:",t)}}},reloadData:{type:"Sense",name:"reloadData",label:i.getTranslation("RELOAD_DATA"),description:i.getTranslation("RELOADS_THE_DATA_IN_A_QLIK_SENSE_APP"),parameters:["qMode","qPartial"],execute:function(n){try{var a=e.$rootScope.$new();return o.show({scope:a,title:i.getTranslation("RELOAD_IN_PROGRESS"),body:i.getTranslation("RELOAD_IS_RUNNING")}),t.currApp().doReload(parseInt(n[0]),n[1]).then(function(){setTimeout(function(){a.close()},1e3)}).catch(function(e){console.warn('Error occurred during "reloadData" action',e),a.close()})}catch(e){console.warn("Action:",this.name,"| Parameters:",this.parameters.toString(),"| Value:",n,"| Error:",e)}}},Toggle_Show_Edit_Mode:{type:"trueChart",isHidden:!0,name:"Toggle_Show_Edit_Mode",parameters:["none"],execute:m},Save_Changed:{type:"trueChart",isHidden:!0,name:"Save_Changed",parameters:["trueChartExtension"],execute:m},Save_All:{type:"trueChart",isHidden:!0,name:"SaveAll",parameters:["trueChartExtension"],execute:m},Refresh:{type:"trueChart",isHidden:!0,name:"Refresh",parameters:["none"],execute:m},Export_As_PDF:{type:"trueChart",isHidden:!0,name:"Export_As_PDF",parameters:["trueChartExtension"],execute:m},Export_As_PNG:{type:"trueChart",isHidden:!0,name:"Export_As_PNG",parameters:["trueChartExtension"],execute:m},Export_As_EMF:{type:"trueChart",isHidden:!0,name:"Export_As_EMF",parameters:["trueChartExtension"],execute:m},Export_As_XLS:{type:"trueChart",isHidden:!0,name:"Export_As_XLS",parameters:["trueChartExtension"],execute:m},Reload_Common_Tables:{type:"trueChart",isHidden:!0,name:"Reload_Common_Tables",parameters:["trueChartExtension"],execute:m},toggleFullScreen:{type:"Other",name:"toggleFullScreen",label:i.getTranslation("TOGGLE_FULL_SCREEN"),description:i.getTranslation("TOGGLE_FULL_SCREEN_DESCRIPTION"),supportedTriggers:["click"],parameters:["fullScreenExpression"],execute:function(e){var t=T(void 0!==e[0]?e[0]:!function(){return!(null===document.fullScreenElement||null===document.webkitFullscreenElement||null===document.mozFullScreenElement||null===document.msFullscreenElement)}());!function(e){var t=document,n=t.documentElement,a=n.requestFullscreen||n.webkitRequestFullscreen||n.mozRequestFullScreen||n.msRequestFullscreen,r=t.exitFullscreen||t.webkitExitFullscreen||t.mozCancelFullScreen||t.msExitFullscreen;try{e?a.call(n):r.call(t)}catch(e){e&&console.warn("Your browser do not support switching full screen per javascript")}}(t)}}}}function A(){return{none:{name:"none",label:i.getTranslation("PARAMETERS"),tooltip:i.getTranslation("NO_PARAMETERS_REQUIRED_TO_PERFORM_THE_ACTION"),type:"none"},additional:{name:"additional",label:i.getTranslation("ADD"),tooltip:i.getTranslation("IF_TRUE_VALUES_WILL_BE_ADDED_TO_AN_EXISTING_SELECTION_OF_SELECTED_FIELD"),type:"checkbox"},bookmarkId:{name:"bookmarkId",label:i.getTranslation("BOOKMARK_ID"),tooltip:i.getTranslation("BOOKMARK_ID_OF_THE_BOOKMARK_TO_BE_APPLIED"),type:"dropdown",expression:"optional",items:[]},custom:{name:"custom",label:i.getTranslation("CUSTOM"),tooltip:i.getTranslation("CUSTOM_JAVASCRIPT_WICH_WILL_BE_EVALUATE"),type:"custom",placeholder:"if(contextType.isMashUp){\n  // do something in mashup\n}else{\n  // do something in sens\n}"},dimensionName:{name:"dimensionName",label:i.getTranslation("DIMENSION_NAME"),tooltip:i.getTranslation("DIMENSION_NAME"),type:"dropdown",expression:"optional",items:[]},fieldName:{name:"fieldName",label:i.getTranslation("FIELD_NAME"),tooltip:i.getTranslation("FIELD_NAME_OF_THE_FIELD_ON_WHICH_THE_SELECTION_WILL_BE_APPLIED"),type:"dropdown",expression:"optional",items:[]},fieldValue:{name:"fieldValue",label:i.getTranslation("VALUE"),tooltip:i.getTranslation("VALUE_AS_A_STRING_WICH_SHOULD_BE_SELECTED"),type:"expressionInput"},fieldValues:{name:"fieldValues",label:i.getTranslation("VALUES_SEPERATED_WITH_SEMICOLON"),tooltip:i.getTranslation("MULTIPLE_VALUES_MUST_BE_SEPARATED_BY_SEMICOLON"),type:"expressionInput"},initial:{name:"initial",label:i.getTranslation("INITIAL"),tooltip:i.getTranslation("IF_TRUE_EXISTING_SELECTIONS_OF_SELECTED_FIELD_REMAIN_UNCHANGED"),type:"checkbox"},keep:{name:"keep",label:i.getTranslation("KEEP"),tooltip:i.getTranslation("IF_TRUE_KEEPS_THE_VALUE_UNCHANGED_WHEN_IT_IS_ALREADY_SET"),type:"checkbox"},lockedAlso:{name:"lockedAlso",label:i.getTranslation("LOCKED_ALSO"),tooltip:i.getTranslation("IF_TRUE_CLEAR_ALSO_LOCKED_SELECTIONS"),type:"checkbox"},measureName:{name:"measureName",label:i.getTranslation("MEASURE_NAME"),tooltip:i.getTranslation("MEASURE_NAME"),type:"dropdown",expresson:"optional",items:[]},mashupOnly:{name:"mashupOnly",label:i.getTranslation("MASHUP_ONLY"),tooltip:i.getTranslation("IF_TRUE_THIS_ACTION_WILL_BE_PERFORMED_ONLY_IN_MASHUP"),type:"checkbox"},qMode:{name:"qMode",label:i.getTranslation("MODE"),tooltip:i.getTranslation("ERROR_HANDLING_MODE"),type:"dropdown",items:[]},qPartial:{name:"qPartial",label:i.getTranslation("PARTIAL"),tooltip:i.getTranslation("SET_TO_TRUE_FOR_PARTIAL_RELOAD"),type:"checkbox"},senseVariable:{name:"senseVariable",label:i.getTranslation("SENSE_VARIABLE"),tooltip:i.getTranslation("NAME_OF_THE_VARIABLE"),type:"dropdown",expression:"optional",items:[]},sheetId:{name:"sheetId",label:i.getTranslation("SHEET_ID"),tooltip:i.getTranslation("SHEET_ID_AS_NAVIGATION_TARGET"),type:"dropdown",expression:"optional",items:[]},softLock:{name:"softLock",label:i.getTranslation("SOFT_LOCK"),tooltip:i.getTranslation("IF_TRUE_LOCKED_SELECTIONS_CAN_BE_OVERRIDDEN"),type:"checkbox"},storyId:{name:"storyId",label:i.getTranslation("STORY_ID"),tooltip:i.getTranslation("STORY_ID_AS_NAVIGATION_TARGET"),type:"dropdown",expression:"optional",items:[]},toggle:{name:"toggle",label:i.getTranslation("TOGGLE"),tooltip:i.getTranslation("IF_TRUE_TOGGLE_SELECTED_STATE"),type:"checkbox"},trueChartExtension:{name:"trueChartExtension",label:i.getTranslation("TRUECHART_EXTENSION"),tooltip:i.getTranslation("TRUECHART_EXTENSION_WHICH_SHOULD_PERFORM_THE_ACTION"),type:"dropdown",items:[]},url:{name:"url",label:i.getTranslation("URL"),tooltip:i.getTranslation("URL_OF_THE_WEBSITE"),type:"expressionInput"},urlTarget:{name:"urlTarget",label:i.getTranslation("TARGET"),tooltip:i.getTranslation("TARGET_WINDOW_CAN_BE_ANY_STRING"),type:"dropdown",expression:"optional",items:[]},variableContent:{name:"variableContent",label:i.getTranslation("VARIABLE_CONTENT"),tooltip:i.getTranslation("VALUE_TO_BE_ASSIGNED_TO_THE_VARIABLE"),type:"expressionInput"},fullScreenExpression:{name:"fullScreenExpression",label:i.getTranslation("FULL_SCREEN_TOGGLE_CONDITION"),tooltip:i.getTranslation("FULL_SCREEN_TOGGLE_CONDITION_DESCRIPTION"),type:"expressionInput"}}}function g(){return[{type:"click",label:"ON_CLICK"},{type:"beforeUnload",label:"BEFORE_NAVIGATION"},{type:"load",label:"ON_LOAD"},{type:"selection",label:"ON_SELECTION"},{type:"custom",label:"CUSTOM",tooltip:i.getTranslation("CUSTOM_TRIGGER_TOOLTIP")}]}function S(){return x.promise}function f(){try{var e=HiCo.Utils.Constants.ParameterSets.multiButtonActions,t=HiCo.Utils.Constants.ParameterSets.multiButtonActionsTL;return e.map(function(e,n){return{type:"trueChart",isHidden:!1,name:e,label:t[n],description:t[n],parameters:["Toggle_Show_Edit_Mode","Refresh"].indexOf(e)>-1?["none"]:["trueChartExtension"],execute:m}}).filter(function(e){return"Reload"!==e.name})}catch(e){return window.HiCoMVCInit&&console.log("An error has occured by trying to get a list of trueChart actions.",e),[]}}function L(){f().forEach(function(e){angular.extend(y[e.name],e)});var e={};for(var t in y)y.hasOwnProperty(t)&&!y[t].disabled&&(e[t]=y[t]);return a.isEmpty(e)?null:e}function I(e){return y[e]}function N(){return P}function O(e){return v[e]}function h(){return D().then(function(){return s(V,v),u(v.trueChartExtension),v})}function C(){return n.all([r.listProvider.getListData("VariableList").then(function(e){V.variables=e}),r.listProvider.getListData("FieldList").then(function(e){V.fields=e}),r.listProvider.getListData("DimensionList").then(function(e){V.dimensions=e})])}function D(){return n.all([r.listProvider.getListData("VariableList").then(function(e){V.variables=e}),r.listProvider.getListData("FieldList").then(function(e){V.fields=e}),r.listProvider.getListData("BookmarkList").then(function(e){V.bookmarks=e}),r.listProvider.getListData("story").then(function(e){V.stories=e}),r.listProvider.getListData("sheet").then(function(e){V.sheets=e}),r.listProvider.getListData("DimensionList").then(function(e){V.dimensions=e}),r.listProvider.getListData("MeasureList").then(function(e){V.measures=e}),r.listProvider.getListData("MediaList").then(function(e){V.media=e})])}function b(e){var t,n;for(t=0;t<v.fieldName.items.length;t++)if(n=v.fieldName.items[t],n.value===e)return n}function R(e,t){e.OnData.once(t),0===e.rows.length?e.getData({rows:1e4}):e.rowCount>e.rows.length?e.getMoreData():t()}var x=n.defer(),y=d(),v=A(),P=g(),V={variables:null,fields:null,bookmarks:null,stories:null,sheets:null,dimensions:null,measures:null,media:null};this.getAction=I,this.getActions=L,this.getParameter=O,this.getParameters=h,this.getReady=S,this.getTriggers=N,function(e){n.all([C().then(function(){s(V,v)}),l.getActionBlacklist().then(function(e){c(e,y)})]).then(function(){x.resolve(e)}),i.onChange(function(){y=d(),v=A(),P=g(),s(V,v)}),window.HiCo=window.HiCo||{},HiCo.performCustomTrigger=HiCo.performCustomTrigger||p}(this)}function s(e,t){function n(e){return{value:"= /* "+e.qMeta.title+" */ '"+e.qInfo.qId+"'",label:e.qMeta.title}}t.qMode.items=[{value:"0",label:i.getTranslation("DEFAULT_MODE")},{value:"1",label:i.getTranslation("ATTEMPT_RECOVERY_ON_ALL_ERRORS")},{value:"2",label:i.getTranslation("FAIL_ON_ALL_ERRORS")}],t.urlTarget.items=[{value:"customWindowName",label:i.getTranslation("NAMED_WINDOW")},{value:"_blank",label:i.getTranslation("NEW_WINDOW")},{value:"_self",label:i.getTranslation("SAME_WINDOW")}],e.variables&&(t.senseVariable.items=e.variables.qItems.map(function(e){return{value:e.qName,label:e.qName}})),e.bookmarks&&(t.bookmarkId.items=e.bookmarks.qItems.map(n)),e.stories&&(t.storyId.items=e.stories.qItems.map(n)),e.sheets&&(t.sheetId.items=e.sheets.qItems.map(n)),e.dimensions&&(t.dimensionName.items=e.dimensions.qItems.map(function(e){return{qItem:e,value:e.qData.title,label:e.qData.title,type:"dimension",fieldName:-1===e.qData.info[0].qName.indexOf("=")?e.qData.info[0].qName:e.qData.title,isNumeric:e.qData.info[0].qTags.indexOf("$numeric")>-1,isDate:e.qData.info[0].qTags.indexOf("$date")>-1,isTimestamp:e.qData.info[0].qTags.indexOf("$timestamp")>-1}})),e.measures&&(t.measureName.items=e.measures.qItems.map(function(e){return{qItem:e,value:e.qData.title,label:e.qData.title,type:"measure"}})),e.fields&&(t.fieldName.items=e.fields.qItems.map(function(e){return{qItem:e,value:e.qName,label:e.qName,type:"field",fieldName:e.qName,isNumeric:e.qTags.indexOf("$numeric")>-1,isDate:e.qTags.indexOf("$date")>-1,isTimestamp:e.qTags.indexOf("$timestamp")>-1,isHidden:!!e.qIsHidden}})),t.dimensionName&&(t.fieldName.items=t.dimensionName.items.filter(function(e){return"H"!==e.qItem.qData.grouping}).concat(t.fieldName.items))}function c(e,t){if(e||e.constructor===Array)if(e.indexOf("*")>-1)for(var n in t)t.hasOwnProperty(n)&&(t[n].disabled=!0);else e.forEach(function(e){t[e]&&(t[e].disabled=!0)})}function u(e){try{e.items=HiCo.DataObjects.DocumentDO.getAllExtensions().map(function(e){return{value:e.getId(),label:e.getTitle()+("trueChart"===e.getTitle()?" - "+e.getAdapter().getServerId():"")}})}catch(e){window.HiCoMVCInit&&console.warn("An error has occurred while trying to get trueChart extensions",e)}}function E(e,t){var n=document.createEvent("Event");return n.initEvent(e,!0,!0),n.data=t,document.dispatchEvent(n),n}function _(e){var n=t.currApp().selectionState().selections.filter(function(t){return t.fieldName===e});return n.length>0?n[0].selectedValues.map(function(e){return e.qName}):[]}function m(e){var t;try{if("trueChartExtension"===this.parameters[0]){if(!e[0])return void console.warn("You try to execute an trueChart action without specifiyng an extension!!!");if(!(t=HiCo.DataObjects.DocumentDO.getExtension(e[0])))return void console.warn("A trueChart extension with following id wasn't found: \""+e[0])}else t=HiCo.DataObjects.DocumentDO.getAllExtensions()[0];HiCo.Actions.GetMultiActions.triggerAction(this.name,t)}catch(e){console.warn('An error has occurred during the execution of a trueChart action "'+this.name+'"')}}function p(t,n){e.$rootScope.$broadcast("performCustomTrigger",{name:t,data:n})}function T(e){return""===(e=e.toString().toLowerCase())||"true"===e||"1"===e||"-1"===e}return e.service(r+"ActionService",[r+"QlikService",r+"ConfigService",l]),l.getInstance=function(){return e.getService(r+"ActionService")},l});